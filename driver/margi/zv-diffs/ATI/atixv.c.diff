53c53
< 
---
> #define ZV_ENABLE       0x100
196a197
>    Bool          zv_port;
283c284,286
<     { 12,"pal_60-svideo",		720, 288, { 1, 50 }}
---
>     { 12,"pal_60-svideo",		720, 288, { 1, 50 }},
>     { 13,"pal_zv", 		        720, 576, { 1, 1 }},
>     { 14,"ntsc_zv", 		        640, 480, { 1, 1 }}
301c304,306
<     { 12,"pal_60-svideo",		768, 288, { 1, 50 }}
---
>     { 12,"pal_60-svideo",		768, 288, { 1, 50 }},
>     { 13,"pal_zv", 		        720, 288, { 1, 1 }},
>     { 14,"ntsc_zv", 		        640, 240, { 1, 1 }}
1216a1222,1232
> static void ATICheckZV( ScrnInfoPtr pScrn, ATIPtr pATI, ATIPortPrivPtr pPriv)
> {
> 	/* Here should be a check if the chip's ZV port is connected */
> 	if (pATI->Chip == ATI_CHIP_MOBILITY) {
> 		pPriv->zv_port = TRUE;
> 		xf86DrvMsg(pScrn->scrnIndex, X_INFO, "Enabling ZV port\n");
> 	}
> 
> }
> 
> 
1241a1258
>     ATICheckZV(pScrn, pATI, pPriv);
1245c1262
<        if(pPriv->bt829 != NULL)
---
>        if(pPriv->bt829 != NULL || pPriv->zv_port)
1248c1265,1268
<           adapt->nEncodings = 13;
---
> 	  if (pPriv->zv_port)
> 		  adapt->nEncodings = 15;
> 	  else
> 		  adapt->nEncodings = 13;
2290c2310
<    if(pPriv->bt829 != NULL)
---
>    if(pPriv->bt829 != NULL || pPriv->zv_port)
2295c2315
< 	      } else {
---
>       } else {
2298c2318
< 	      }
---
>       }
2359c2379,2382
<    outf(CAPTURE_CONFIG, ENABLE_ATI_CAPTURE_DOUBLEBUF);
---
>    if (pPriv->zv_port)
> 	   outf(CAPTURE_CONFIG, ENABLE_ATI_CAPTURE_DOUBLEBUF|ZV_ENABLE);
>    else
> 	   outf(CAPTURE_CONFIG, ENABLE_ATI_CAPTURE_DOUBLEBUF);
